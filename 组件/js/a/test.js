var MHJ={client:{name:null,version:null,ua:navigator.userAgent.toLowerCase(),setClient:function(n,e){console.log(n+e),this.name=n,this.version=e},checkClient:function(){var n=this;(s=n.ua.match(/windows ([\d.]+)/))?n.setClient("win",n.toFixedVersion(s[1])):(s=n.ua.match(/windows nt ([\d.]+)/))?n.setClient("win",n.toFixedVersion(s[1])):(s=n.ua.match(/linux ([\d.]+)/))?n.setClient("linux",n.toFixedVersion(s[1])):(s=n.ua.match(/mac ([\d.]+)/))?n.setClient("mac",n.toFixedVersion(s[1])):(s=n.ua.match(/ipod ([\d.]+)/))?n.setClient("iPod",n.toFixedVersion(s[1])):(s=n.ua.match(/ipad[\D]*os ([\d_]+)/))?n.setClient("iPad",n.toFixedVersion(s[1])):(s=n.ua.match(/iphone[\D]*os ([\d_]+)/))?n.setClient("iPhone",n.toFixedVersion(s[1])):(s=n.ua.match(/android ([\d.]+)/))?n.setClient("android",n.toFixedVersion(s[1])):0},toFixedVersion:function(n,e){return n=(""+n).replace(/_/g,"."),e=e||1,n=String(n).split("."),n=n[0]+"."+(n[1]||"0"),n=Number(n).toFixed(e)},isIPhone:function(){return"iphone"==this.name.toLowerCase()},isAndroid:function(){return"android"==this.name.toLowerCase()}},loading:function(){this.loadingDefault()},loadingDefault:function(){var n='<section id="M-loading" class="M-pop wh-100 zoom "><div class="mpop"><div class="box box-center box-v wh-100"><div class="ball-clip-rotate-multiple"><div></div><div></div></div><div class="m-t-15 c-fff">正在加载数据...</div></div></div></section>',e=document.getElementById("M-loading");e?"block"==e.style.display?"":e.style.display="block":document.body.insertAdjacentHTML("beforeEnd",n),e=null},loadingHide:function(){var n=document.getElementById("M-loading");n?"none"==n.style.display?"":n.style.display="none":"",n=null,this.loadingPerHide()},loadingPer:function(n){var e='<section id="M-loading-per" class="M_loading zoom"><div class="M_loading_clip"><div class="M_loading_bar"></div></div><div class="M_percent" id="M-percent">0%</div></section>',n=n?n:0,i=document.getElementById("M-loading-per");i?"block"==i.style.display?"":i.style.display="block":document.body.insertAdjacentHTML("beforeEnd",e);var t=document.getElementById("M-percent");t.innerHTML=n+"%",100==n&&this.loadingHide(),i=null},loadingPerHide:function(){var n=document.getElementById("M-loading-per");n?"none"==n.style.display?"":n.style.display="none":"",n=null},preloadimg:function(n,e,i){var t=this;t.loadingPer();for(var e=e||function(){},i=i||function(){},o=0,a=0,l=0;l<n.length;l++)!function(l){var l=l;t.imgReady(n[l],function(){++o,i&&i(l,n[l]),t.loadingPer((o+a)/n.length*100),o+a>=n.length&&e&&e(o,n)},null,function(){++a,a+o>=n.length&&e&&e(o,n)})}(l)},imgReady:function(){var n=[],e=null,i=function(){for(var e=0;e<n.length;e++)n[e].end?n.splice(e--,1):n[e]();!n.length&&t()},t=function(){clearInterval(e),e=null};return function(t,o,a,l){var d,s,r,c,u,m=new Image;return m.src=t,m.complete?(o.call(m),void(a&&a.call(m))):(s=m.width,r=m.height,m.onerror=function(){l&&l.call(m),d.end=!0,m=m.onload=m.onerror=null},d=function(){c=m.width,u=m.height,(c!==s||u!==r||c*u>1024)&&(o&&o.call(m),d.end=!0)},d(),m.onload=function(){!d.end&&d(),a&&a.call(m),m=m.onload=m.onerror=null},void(d.end||(n.push(d),null===e&&(e=setInterval(i,40)))))}}(),random:function(n,e){return Math.floor(n+Math.random()*(e-n+1))}};MHJ.client.checkClient(),function(){for(var n=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),t=Math.max(0,16-(i-n)),o=window.setTimeout(function(){e(i+t)},t);return n=i+t,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}();