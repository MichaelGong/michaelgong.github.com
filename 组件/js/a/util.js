!function(){var t=function(){var t=function(){this.version="0.1",this.v=this.version,this.touch="ontouchstart"in window?"touchend":"click",this.loadingID="M-loading",this.APIBASE="http://lppz.letwx.com/api/jsapi",this.detect=function(t,n){var o={},i=this.browser={},e=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),a=t.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!t.match(/\(Macintosh\; Intel /),r=t.match(/(iPad).*OS\s([\d_]+)/),c=t.match(/(iPod)(.*OS\s([\d_]+))?/),d=!r&&t.match(/(iPhone\sOS)\s([\d_]+)/),h=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),l=/Win\d{2}|Windows/.test(n),p=t.match(/Windows Phone ([\d.]+)/),u=h&&t.match(/TouchPad/),f=t.match(/Kindle\/([\d.]+)/),m=t.match(/Silk\/([\d._]+)/),v=t.match(/(BlackBerry).*Version\/([\d.]+)/),w=t.match(/(BB10).*Version\/([\d.]+)/),b=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),g=t.match(/PlayBook/),D=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),M=t.match(/Firefox\/([\d.]+)/),y=t.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),S=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),C=!D&&t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),k=C||t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);return(i.webkit=!!e)&&(i.version=e[1]),a&&(o.android=!0,o.version=a[2]),d&&!c&&(o.ios=o.iphone=!0,o.version=d[2].replace(/_/g,".")),r&&(o.ios=o.ipad=!0,o.version=r[2].replace(/_/g,".")),c&&(o.ios=o.ipod=!0,o.version=c[3]?c[3].replace(/_/g,"."):null),p&&(o.wp=!0,o.version=p[1]),h&&(o.webos=!0,o.version=h[2]),u&&(o.touchpad=!0),v&&(o.blackberry=!0,o.version=v[2]),w&&(o.bb10=!0,o.version=w[2]),b&&(o.rimtabletos=!0,o.version=b[2]),g&&(i.playbook=!0),f&&(o.kindle=!0,o.version=f[1]),m&&(i.silk=!0,i.version=m[1]),!m&&o.android&&t.match(/Kindle Fire/)&&(i.silk=!0),D&&(i.chrome=!0,i.version=D[1]),M&&(i.firefox=!0,i.version=M[1]),y&&(o.firefoxos=!0,o.version=y[1]),S&&(i.ie=!0,i.version=S[1]),k&&(s||o.ios||l)&&(i.safari=!0,o.ios||(i.version=k[1])),C&&(i.webview=!0),o.tablet=!!(r||g||a&&!t.match(/Mobile/)||M&&t.match(/Tablet/)||S&&!t.match(/Phone/)&&t.match(/Touch/)),o.phone=!(o.tablet||o.ipod||!(a||d||h||v||w||D&&t.match(/Android/)||D&&t.match(/CriOS\/([\d.]+)/)||M&&t.match(/Mobile/)||S&&t.match(/Touch/))),o},this.os=this.detect(navigator.userAgent,navigator.platform),this.isAndroid=function(){return this.os.android},this.isIphone=function(){return this.os.iphone},this.isIos=function(){return this.os.ios},this.checkOS=function(){return this.isAndroid()?"android":this.isIphone()?"iphone":this.isIos()?"ios":this.os.tablet?"tablet":this.os.phone?"phone":"not phone"},this.random=function(t,n){return Math.floor(t+Math.random()*(n-t+1))}};return t.prototype.register=function(t,n){this[t]=n},new t}();!function(){var n={};n.loading=function(){var n='<section id="'+t.loadingID+'" class="M-loading-pop wh-100"><div class="mpop"><div class="box box-center box-v wh-100"><div class="ball-clip-rotate-multiple"><div></div><div></div></div><div class="m-t-15 c-fff loading-font">正在加载数据...</div></div></div></section>',o=$("#"+t.loadingID);o[0]?o.show():$("body").append(n),o=null,$("#"+t.loadingID).on("touchstart",function(t){t.preventDefault()})},n.loadingHide=function(){$("#"+t.loadingID).hide()};for(var o in n)n.hasOwnProperty(o)&&t.register(o,n[o])}(),function(){var n=0,o=[],i="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",e=function(t,o,i){this.id=n++,this.cb=i;var e='<div id="m-popup-'+this.id+'" class="M-pop wh-100"><div class="M-popup center"><div class="M-title">'+t+'</div><div class="M-content">'+o+'</div><div class="M-handler box"><span class="M-handler-ok box-f1">确定</span></div></div></div>';this.alertDom=$(e).appendTo("body")};e.prototype.show=function(){var t=this.alertDom.find(".M-popup").show();return t.css("margin-top",-(t.height()/2+20)).addClass("ani zoomIn").one(i,function(){t.removeClass("ani zoomIn"),t.unbind(i)}),this},e.prototype.on=function(n){var o=this;return this.alertDom.find(".M-handler-ok").on(t.touch,function(t){n?n&&n.call(o):o.hide(),t.preventDefault()}),this.alertDom.on(t.touch,function(t){var n=$(t.target);0==n.closest(".M-popup").length&&o.hide(),t.preventDefault()}),this},e.prototype.hide=function(){var t=this;return this.alertDom.find(".M-popup").addClass("ani zoomOut").one(i,function(){t.alertDom.remove()}),this};var a=function(t,o,i,e){this.id=n++,this.okCb=i,this.cancelCb=e;var a='<div id="m-popup-'+this.id+'" class="M-pop wh-100"><div class="M-popup center"><div class="M-title">'+t+'</div><div class="M-content">'+o+'</div><div class="M-handler box"><span class="M-handler-cancel box-f1">取消</span><span class="M-handler-ok box-f1">确定</span></div></div></div>';this.confirmDom=$(a).appendTo("body")};a.prototype.show=function(){var t=this.confirmDom.find(".M-popup").show();return t.css("margin-top",-(t.height()/2+20)).addClass("ani zoomIn").one(i,function(){t.removeClass("ani zoomIn"),t.unbind(i)}),this},a.prototype.on=function(n,o){var i=this;return this.confirmDom.find(".M-handler-ok").on(t.touch,function(t){n?n&&n.call(i):i.hide(),t.preventDefault()}),this.confirmDom.find(".M-handler-cancel").on(t.touch,function(t){o?o&&o.call(i):i.hide(),t.preventDefault()}),this.confirmDom.on(t.touch,function(t){var n=$(t.target);0==n.closest(".M-popup").length&&i.hide(),t.preventDefault()}),this},a.prototype.hide=function(){var t=this;return this.confirmDom.find(".M-popup").addClass("ani zoomOut").one(i,function(){t.confirmDom.remove()}),this};var s=function(t){this.id=n++,this.options=t,t.duration||(this.options.duration=2e3);var o='<div id="m-popup-'+this.id+'" class="M-toast"><span>'+this.options.text+"</span></div>";this.toastDom=$(o).appendTo("body")};s.prototype.show=function(){var t=this;return this.toastDom.addClass("ani zoomIn").show().one(i,function(){return t.toastDom.removeClass("ani zoomIn"),t.toastDom.unbind(i),t.options.isControl?(o.push(t),t):void setTimeout(function(){t.hide()},t.options.duration)}),this},s.prototype.hide=function(){var t=this;return this.toastDom.addClass("ani zoomOut").one(i,function(){t.toastDom.remove()}),this};var r=function(t){this.id=n++,this.options=t;for(var o='<div id="m-popup-'+this.id+'" class="M-pop"><div class="M-popup bottom" style="background: transparent;"><div class="actionsheet"><div class="actionsheet-group">',i=0;i<this.options.items.length;i++)o+='<button class="actionsheet-item">'+t.items[i].text+"</button>";o+='</div><button class="actionsheet-cancel">取消</button></div</div></div>',this.actionSheetDom=$(o).appendTo("body")};r.prototype.show=function(){var t=this;return this.actionSheetDom.find(".M-popup").addClass("ani slideInUp").show().one(i,function(){t.actionSheetDom.find(".M-popup").removeClass("ani slideInUp"),t.actionSheetDom.find(".M-popup").unbind(i)}),this},r.prototype.on=function(){var n=this;return this.actionSheetDom.find(".actionsheet-item").each(function(o,i){$(i).on(t.touch,function(t){n.options.items[o].handler&&n.options.items[o].handler&&n.options.items[o].handler.call(n),t.preventDefault()})}),this.actionSheetDom.find(".actionsheet-cancel").on(t.touch,function(t){n.options.cancelCb?n.options.cancelCb&&n.options.cancelCb.call(n):n.hide(),t.preventDefault()}),this.actionSheetDom.on(t.touch,function(t){var o=$(t.target);0==o.closest(".M-popup").length&&n.hide(),t.preventDefault()}),this},r.prototype.hide=function(){var t=this;return this.actionSheetDom.find(".M-popup").addClass("ani slideOutDown").one(i,function(){t.actionSheetDom.remove()}),this};var c={};c.alert=function(t,n,o){return n?"function"==typeof n&&(o=n,n=t,t="提示"):(n=t,t="提示"),new e(t,n).on(o).show()},c.confirm=function(t,n,o,i){return"function"==typeof n&&(i=o,o=n,n=t,t="提示"),new a(t,n,o,i).on(o,i).show()},c.showToast=function(t,n,o){return new s({text:t,duration:n,isControl:o}).show()},c.hideToast=function(){var t=o.shift();return t?t.hide():console.warn("你所想关闭的toast不存在！"),t},c.actionSheet=function(t,n){var o={};return o.items=t,o.cancelCb=n,new r(o).on().show()};for(var d in c)c.hasOwnProperty(d)&&t.register(d,c[d])}(),function(){var n={},o=function(){var t=[],n=null,o=function(){for(var n=0;n<t.length;n++)t[n].end?t.splice(n--,1):t[n]();!t.length&&i()},i=function(){clearInterval(n),n=null};return function(i,e,a,s){var r,c,d,h,l,p=new Image;return p.src=i,p.complete?(e.call(p),void(a&&a.call(p))):(c=p.width,d=p.height,p.onerror=function(){s&&s.call(p),r.end=!0,p=p.onload=p.onerror=null},r=function(){h=p.width,l=p.height,(h!==c||l!==d||h*l>1024)&&(e&&e.call(p),r.end=!0)},r(),p.onload=function(){!r.end&&r(),a&&a.call(p),p=p.onload=p.onerror=null},void(r.end||(t.push(r),null===n&&(n=setInterval(o,40)))))}}();n.imgpreload=function(t,n,i){for(var n=n||function(){},i=i||function(){},e=0,a=0,s=0;s<t.length;s++)!function(s){var s=s;o(t[s],function(){++e,i&&i(s,t[s]),e+a>=t.length&&n&&n(e,t)},null,function(){++a,a+e>=t.length&&n&&n(e,t)})}(s)};for(var i in n)n.hasOwnProperty(i)&&t.register(i,n[i])}(),function(){var n={};n.ajax=function(n,o,i,e,a,s,r){if(!n)return t.showToast("action不能为空"),!1;if(!i)return t.showToast("appid不能为空"),!1;this.httpid=this.httpid||0,this.httpid++;var c={};if(c.action=n,c.params="string"==typeof o?o:JSON.stringify(o)||"",c.letwxid=i,c.apiopenid=a||"testopenid",c.apitoken=s||"testopenid",r&&(c.debug=r),t.APIBASE.indexOf(window.location.host)<0){var d="httpcb"+this.httpid,h=window.ngapi=h||{};h[d]=function(t){e&&e(t),delete h[d],$("#"+d).remove()},c.callback="ngapi."+d;var l=[];for(var p in c)c.hasOwnProperty(p)&&l.push("object"==typeof c[p]?p+"="+encodeURIComponent(JSON.stringify(c[p])):p+"="+encodeURIComponent(c[p]));var u=t.APIBASE+"?"+l.join("&"),f=document.createElement("script");f.src=u,f.id=d,$("head").append(f)}else $.post(t.APIBASE,c,function(n){try{e&&e(n)}catch(o){t.showToast("AJAX请求处理错误","error")}},"json")};for(var o in n)n.hasOwnProperty(o)&&t.register(o,n[o])}(),function(){var n={};n.getUrlParam=function(t){var n=t,o=0,i=null;for(n||(n=window.location.href),n=n.replace("#rd","");n.indexOf("#")>-1;){o=n.indexOf("#",o+1);var e=n.substr(o);i=e.indexOf("&")>-1?e.indexOf("&"):e.length,n=n.replace(n.substr(o,i),"")}var a=new Object;if(n.indexOf("?")>-1)for(var s=n.substr(n.indexOf("?")+1),r=s.split("&"),c=0;c<r.length;c++){var d=r[c].split("=");a[d[0]]=d[1]}return a},n.setCookie=function(t,n,o){var i=new Date;i.setDate(i.getDate()+o),document.cookie=t+"="+escape(n)+(null==o?"":";expires="+i.toGMTString())},n.getCookie=function(t){var n,o=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(n=document.cookie.match(o))?n[2]:null},n.delCookie=function(t){var n=new Date;n.setTime(n.getTime()-1);var o=this.getCookie(t);null!=o&&(document.cookie=t+"="+o+";expires="+n.toGMTString())};for(var o in n)n.hasOwnProperty(o)&&t.register(o,n[o])}(),"undefined"!=typeof window&&(window.M=t)}(),function(){for(var t=0,n=["ms","moz","webkit","o"],o=0;o<n.length&&!window.requestAnimationFrame;++o)window.requestAnimationFrame=window[n[o]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[o]+"CancelAnimationFrame"]||window[n[o]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var o=(new Date).getTime(),i=Math.max(0,16-(o-t)),e=window.setTimeout(function(){n(o+i)},i);return t=o+i,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();