!function(){var o=function(){var o=function(){this.version="0.1",this.v=this.version,this.touch="ontouchstart"in window?"touchend":"click",this.loadingID="M-loading",this.APIBASE="http://lppz.letwx.com/api/jsapi",this.detect=function(o,t){var n={},i=this.browser={},e=o.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=o.match(/(Android);?[\s\/]+([\d.]+)?/),a=!!o.match(/\(Macintosh\; Intel /),s=o.match(/(iPad).*OS\s([\d_]+)/),c=o.match(/(iPod)(.*OS\s([\d_]+))?/),l=!s&&o.match(/(iPhone\sOS)\s([\d_]+)/),d=o.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=/Win\d{2}|Windows/.test(t),p=o.match(/Windows Phone ([\d.]+)/),u=d&&o.match(/TouchPad/),f=o.match(/Kindle\/([\d.]+)/),m=o.match(/Silk\/([\d._]+)/),v=o.match(/(BlackBerry).*Version\/([\d.]+)/),w=o.match(/(BB10).*Version\/([\d.]+)/),b=o.match(/(RIM\sTablet\sOS)\s([\d.]+)/),g=o.match(/PlayBook/),D=o.match(/Chrome\/([\d.]+)/)||o.match(/CriOS\/([\d.]+)/),M=o.match(/Firefox\/([\d.]+)/),y=o.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),S=o.match(/MSIE\s([\d.]+)/)||o.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),I=!D&&o.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),k=I||o.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);return(i.webkit=!!e)&&(i.version=e[1]),r&&(n.android=!0,n.version=r[2]),l&&!c&&(n.ios=n.iphone=!0,n.version=l[2].replace(/_/g,".")),s&&(n.ios=n.ipad=!0,n.version=s[2].replace(/_/g,".")),c&&(n.ios=n.ipod=!0,n.version=c[3]?c[3].replace(/_/g,"."):null),p&&(n.wp=!0,n.version=p[1]),d&&(n.webos=!0,n.version=d[2]),u&&(n.touchpad=!0),v&&(n.blackberry=!0,n.version=v[2]),w&&(n.bb10=!0,n.version=w[2]),b&&(n.rimtabletos=!0,n.version=b[2]),g&&(i.playbook=!0),f&&(n.kindle=!0,n.version=f[1]),m&&(i.silk=!0,i.version=m[1]),!m&&n.android&&o.match(/Kindle Fire/)&&(i.silk=!0),D&&(i.chrome=!0,i.version=D[1]),M&&(i.firefox=!0,i.version=M[1]),y&&(n.firefoxos=!0,n.version=y[1]),S&&(i.ie=!0,i.version=S[1]),k&&(a||n.ios||h)&&(i.safari=!0,n.ios||(i.version=k[1])),I&&(i.webview=!0),n.tablet=!!(s||g||r&&!o.match(/Mobile/)||M&&o.match(/Tablet/)||S&&!o.match(/Phone/)&&o.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(r||l||d||v||w||D&&o.match(/Android/)||D&&o.match(/CriOS\/([\d.]+)/)||M&&o.match(/Mobile/)||S&&o.match(/Touch/))),n},this.os=this.detect(navigator.userAgent,navigator.platform),this.isAndroid=function(){return this.os.android},this.isIphone=function(){return this.os.iphone},this.isIos=function(){return this.os.ios},this.checkOS=function(){return this.isAndroid()?"android":this.isIphone()?"iphone":this.isIos()?"ios":this.os.tablet?"tablet":this.os.phone?"phone":"not phone"},this.random=function(o,t){return Math.floor(o+Math.random()*(t-o+1))}};return o.prototype.register=function(o,t){this[o]=t},new o}();!function(){var t={};t.loading=function(){var t='<section id="'+o.loadingID+'" class="M-loading-pop wh-100"><div class="mpop"><div class="box box-center box-v wh-100"><div class="ball-clip-rotate-multiple"><div></div><div></div></div><div class="m-t-15 c-fff loading-font">正在加载数据...</div></div></div></section>',n=$("#"+o.loadingID);n[0]?n.show():$("body").append(t),n=null,$("#"+o.loadingID).on("touchstart",function(o){o.preventDefault()})},t.loadingHide=function(){$("#"+o.loadingID).hide()};for(var n in t)t.hasOwnProperty(n)&&o.register(n,t[n])}(),function(){var t=0,n=[],i="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",e=function(o,n,i){this.id=t++,this.cb=i;var e='<div id="m-popup-'+this.id+'" class="M-pop wh-100"><div class="M-popup center"><div class="M-title">'+o+'</div><div class="M-content">'+n+'</div><div class="M-handler box"><span class="M-handler-ok box-f1">确定</span></div></div></div>';this.alertDom=$(e).appendTo("body")};e.prototype.show=function(){var o=this.alertDom.find(".M-popup").show();return o.css("margin-top",-(o.height()/2+20)).addClass("ani zoomIn").one(i,function(){o.removeClass("ani zoomIn"),o.unbind(i)}),this},e.prototype.on=function(t){var n=this;return this.alertDom.find(".M-handler-ok").on(o.touch,function(o){t?t&&t.call(n):n.hide(),o.preventDefault()}),this.alertDom.on(o.touch,function(o){var t=$(o.target);0==t.closest(".M-popup").length&&n.hide(),o.preventDefault()}),this},e.prototype.hide=function(){var o=this;return this.alertDom.find(".M-popup").addClass("ani zoomOut").one(i,function(){o.alertDom.remove()}),this};var r=function(o,n,i,e){this.id=t++,this.okCb=i,this.cancelCb=e;var r='<div id="m-popup-'+this.id+'" class="M-pop wh-100"><div class="M-popup center"><div class="M-title">'+o+'</div><div class="M-content">'+n+'</div><div class="M-handler box"><span class="M-handler-cancel box-f1">取消</span><span class="M-handler-ok box-f1">确定</span></div></div></div>';this.confirmDom=$(r).appendTo("body")};r.prototype.show=function(){var o=this.confirmDom.find(".M-popup").show();return o.css("margin-top",-(o.height()/2+20)).addClass("ani zoomIn").one(i,function(){o.removeClass("ani zoomIn"),o.unbind(i)}),this},r.prototype.on=function(t,n){var i=this;return this.confirmDom.find(".M-handler-ok").on(o.touch,function(o){t?t&&t.call(i):i.hide(),o.preventDefault()}),this.confirmDom.find(".M-handler-cancel").on(o.touch,function(o){n?n&&n.call(i):i.hide(),o.preventDefault()}),this.confirmDom.on(o.touch,function(o){var t=$(o.target);0==t.closest(".M-popup").length&&i.hide(),o.preventDefault()}),this},r.prototype.hide=function(){var o=this;return this.confirmDom.find(".M-popup").addClass("ani zoomOut").one(i,function(){o.confirmDom.remove()}),this};var a=function(o){this.id=t++,this.options=o,o.duration||(this.options.duration=2e3);var n='<div id="m-popup-'+this.id+'" class="M-toast"><span>'+this.options.text+"</span></div>";this.toastDom=$(n).appendTo("body")};a.prototype.show=function(){var o=this;return this.toastDom.addClass("ani zoomIn").show().one(i,function(){return o.toastDom.removeClass("ani zoomIn"),o.toastDom.unbind(i),o.options.isControl?(n.push(o),o):void setTimeout(function(){o.hide()},o.options.duration)}),this},a.prototype.hide=function(){var o=this;return this.toastDom.addClass("ani zoomOut").one(i,function(){o.toastDom.remove()}),this};var s=function(o){this.id=t++,this.options=o;for(var n='<div id="m-popup-'+this.id+'" class="M-pop"><div class="M-popup bottom" style="background: transparent;"><div class="actionsheet"><div class="actionsheet-group">',i=0;i<this.options.items.length;i++)n+='<button class="actionsheet-item">'+o.items[i].text+"</button>";n+='</div><button class="actionsheet-cancel">取消</button></div</div></div>',this.actionSheetDom=$(n).appendTo("body")};s.prototype.show=function(){var o=this;return this.actionSheetDom.find(".M-popup").addClass("ani slideInUp").show().one(i,function(){o.actionSheetDom.find(".M-popup").removeClass("ani slideInUp"),o.actionSheetDom.find(".M-popup").unbind(i)}),this},s.prototype.on=function(){var t=this;return this.actionSheetDom.find(".actionsheet-item").each(function(n,i){$(i).on(o.touch,function(o){t.options.items[n].handler&&t.options.items[n].handler&&t.options.items[n].handler.call(t),o.preventDefault()})}),this.actionSheetDom.find(".actionsheet-cancel").on(o.touch,function(o){t.options.cancelCb?t.options.cancelCb&&t.options.cancelCb.call(t):t.hide(),o.preventDefault()}),this.actionSheetDom.on(o.touch,function(o){var n=$(o.target);0==n.closest(".M-popup").length&&t.hide(),o.preventDefault()}),this},s.prototype.hide=function(){var o=this;return this.actionSheetDom.find(".M-popup").addClass("ani slideOutDown").one(i,function(){o.actionSheetDom.remove()}),this};var c={};c.alert=function(o,t,n){return t?"function"==typeof t&&(n=t,t=o,o="提示"):(t=o,o="提示"),new e(o,t).on(n).show()},c.confirm=function(o,t,n,i){return"function"==typeof t&&(i=n,n=t,t=o,o="提示"),new r(o,t,n,i).on(n,i).show()},c.showToast=function(o,t,n){return new a({text:o,duration:t,isControl:n}).show()},c.hideToast=function(){var o=n.shift();return o?o.hide():console.warn("你所想关闭的toast不存在！"),o},c.actionSheet=function(o,t){var n={};return n.items=o,n.cancelCb=t,new s(n).on().show()};for(var l in c)c.hasOwnProperty(l)&&o.register(l,c[l])}(),function(){var t=function(o,t){var n={};switch(t||(t={},t.direction="y"),t.direction){case"x":n={scrollbars:!1,scrollX:!0,scrollY:!1,bindToWrapper:!0};break;case"both":n={scrollbars:!1,scrollX:!0,scrollY:!0,bindToWrapper:!1};break;case"y":n={scrollbars:"custom",scrollX:!1,scrollY:!0,bindToWrapper:!1}}var i=new IScroll(o,{mouseWheel:!0,scrollbars:"custom",fadeScrollbars:!0,click:!0,tap:!0,bounce:!0,probeType:2,interactiveScrollbars:!0,shrinkScrollbars:"scale",keyBindings:!0,momentum:!0,bindToWrapper:n.bindToWrapper,scrollX:n.scrollX,scrollY:n.scrollY,bindToWrapper:n.bindToWrapper});return i.on("scrollEnd",function(){0==this.y?this._execEvent("scrollTop"):this.y==this.maxScrollY&&this._execEvent("scrollBottom")}),i},n={},i=[];n.scroll=function(o,n){var e=this;if(e.scrollId=i,o){var r=t(o,n);return i.push(r),$(o).data("scrollid",i.length-1),e.scrollId=i,r.on("destroy",function(){i[parseInt($(this.wrapper).data("scrollid"))]=null,$(this.wrapper).data("scrollid",null),e.scrollId=i}),r}for(var a=$("[data-scroll]"),s=0;s<a.length;s++)!function(o){n||(n={}),n.direction=a.eq(o).data("scroll");var r=t(a[o],n);i.push(r),$(a[o]).data("scrollid",i.length-1),e.scrollId=i,r.on("destroy",function(){i[parseInt($(this.wrapper).data("scrollid"))]=null,$(this.wrapper).data("scrollid",null),e.scrollId=i})}(s)};for(var e in n)n.hasOwnProperty(e)&&o.register(e,n[e])}(),function(){var t={},n=function(){var o=[],t=null,n=function(){for(var t=0;t<o.length;t++)o[t].end?o.splice(t--,1):o[t]();!o.length&&i()},i=function(){clearInterval(t),t=null};return function(i,e,r,a){var s,c,l,d,h,p=new Image;return p.src=i,p.complete?(e.call(p),void(r&&r.call(p))):(c=p.width,l=p.height,p.onerror=function(){a&&a.call(p),s.end=!0,p=p.onload=p.onerror=null},s=function(){d=p.width,h=p.height,(d!==c||h!==l||d*h>1024)&&(e&&e.call(p),s.end=!0)},s(),p.onload=function(){!s.end&&s(),r&&r.call(p),p=p.onload=p.onerror=null},void(s.end||(o.push(s),null===t&&(t=setInterval(n,40)))))}}();t.imgpreload=function(o,t,i){for(var t=t||function(){},i=i||function(){},e=0,r=0,a=0;a<o.length;a++)!function(a){var a=a;n(o[a],function(){++e,i&&i(a,o[a]),e+r>=o.length&&t&&t(e,o)},null,function(){++r,r+e>=o.length&&t&&t(e,o)})}(a)};for(var i in t)t.hasOwnProperty(i)&&o.register(i,t[i])}(),function(){var t={};t.ajax=function(t,n,i,e,r,a,s){if(!t)return o.showToast("action不能为空"),!1;if(!i)return o.showToast("appid不能为空"),!1;this.httpid=this.httpid||0,this.httpid++;var c={};if(c.action=t,c.params="string"==typeof n?n:JSON.stringify(n)||"",c.letwxid=i,c.apiopenid=r||"testopenid",c.apitoken=a||"testopenid",s&&(c.debug=s),o.APIBASE.indexOf(window.location.host)<0){var l="httpcb"+this.httpid,d=window.ngapi=d||{};d[l]=function(o){e&&e(o),delete d[l],$("#"+l).remove()},c.callback="ngapi."+l;var h=[];for(var p in c)c.hasOwnProperty(p)&&h.push("object"==typeof c[p]?p+"="+encodeURIComponent(JSON.stringify(c[p])):p+"="+encodeURIComponent(c[p]));var u=o.APIBASE+"?"+h.join("&"),f=document.createElement("script");f.src=u,f.id=l,$("head").append(f)}else $.post(o.APIBASE,c,function(t){try{e&&e(t)}catch(n){o.showToast("AJAX请求处理错误","error")}},"json")};for(var n in t)t.hasOwnProperty(n)&&o.register(n,t[n])}(),function(){var t={};t.getUrlParam=function(o){var t=o,n=0,i=null;for(t||(t=window.location.href),t=t.replace("#rd","");t.indexOf("#")>-1;){n=t.indexOf("#",n+1);var e=t.substr(n);i=e.indexOf("&")>-1?e.indexOf("&"):e.length,t=t.replace(t.substr(n,i),"")}var r=new Object;if(t.indexOf("?")>-1)for(var a=t.substr(t.indexOf("?")+1),s=a.split("&"),c=0;c<s.length;c++){var l=s[c].split("=");r[l[0]]=l[1]}return r},t.setCookie=function(o,t,n){var i=new Date;i.setDate(i.getDate()+n),document.cookie=o+"="+escape(t)+(null==n?"":";expires="+i.toGMTString())},t.getCookie=function(o){var t,n=new RegExp("(^| )"+o+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?t[2]:null},t.delCookie=function(o){var t=new Date;t.setTime(t.getTime()-1);var n=this.getCookie(o);null!=n&&(document.cookie=o+"="+n+";expires="+t.toGMTString())};for(var n in t)t.hasOwnProperty(n)&&o.register(n,t[n])}(),$(function(){o.scroll()}),"undefined"!=typeof window&&(window.M=o)}(),function(){for(var o=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-o)),e=window.setTimeout(function(){t(n+i)},i);return o=n+i,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(o){clearTimeout(o)})}();